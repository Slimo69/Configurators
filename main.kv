#:import FadeTransition kivy.uix.screenmanager.FadeTransition

ScreenManagement:
    transition: FadeTransition()
    MainScreen:
    ProjectScreen:
    ScopeScreen:
	
<MainScreen>:
    name: 'main'

    BoxLayout:
        orientation: "vertical"
        spacing:10
        padding:10

        Button:
            on_press: app.root.current = 'project'
            text: 'Project Specification'
        Button:
            on_press: app.root.current = 'scope'
            text: 'Project Scope'

            
<ProjectScreen>:
    name: 'project'
    project_id : last_id
    alt_checkbox: altitude_checkbox
    alt_slider: altitude_slider
    country_spinner: ctry_spinner
    project_name : prj_name
    project_currency : prj_currency


    GridLayout:
        cols: 2

        Label:
            text: "Project Number:"

        TextInput:
            id: last_id
            multiline: False
            readonly: True
            self: root.last_id()

        Label:
            text: "Project Name:"

        TextInput:
            id: prj_name
            multiline: False
            text: ""
            hint_text: "Please specify project name"

        Label:
            text: "Site Country:"

        Spinner:
            id: ctry_spinner
            text: "Country"
            self: root.load_countries()

        BoxLayout:
            Label:
                text: "Altitude over 1000 m.a.s.l"
            CheckBox:
                id: altitude_checkbox
                on_active: root.activate_alt_slider()

        BoxLayout:
            orientation: "vertical"
            Label:
                text: str(altitude_slider.value) + " m.a.s.l"
            Slider:
                id: altitude_slider
                value: 1000
                min: 1000
                max: 4000
                step: 100

        Label:
            text: "Currency:"

        Spinner:
            id: prj_currency
            text: "EUR"
            values: ("EUR", "USD")


        Button:
            on_release: app.root.current = 'main'
            text: 'Back'

        Button:
            text: 'Process'
            on_press: root.create_project()
            on_release: app.root.current = 'main'

<ScopeScreen>:
    name: 'scope'

    GridLayout:
        cols: 2

        Label:
            text: "HV to MV transformers"
        CheckBox:

        Label:
            text: "MV switchgears"
        CheckBox:

        Label:
            text: "MV to LV transformers"
        CheckBox:

        Label:
            text: "LV switchgear"
        CheckBox:



        Button:
            on_release: app.root.current = 'main'
            text: "Back"

        Button:
            text: 'Process'
